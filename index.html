<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hare Krishna Counter</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@100..900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: "Noto Sans Bengali", sans-serif;
        }
        #main-hero-counter {
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            background-size: cover;
            background-position: center;
            cursor: pointer;
            background-image: url('https://i.pinimg.com/736x/cb/63/af/cb63affb131329be8730c443748bad6f.jpg');
            padding-bottom: 70px;
        }
        div#counter-details {
            width: 70%;
            padding: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(2px);
            -webkit-backdrop-filter: blur(2px);
        }
        p#today-total-counter-wrapper {
            display: none;
        }
        p#life-time-counter-wrapper {
            display: none;
        }
        #counter-details {
            text-align: center;
            color: white;
        }
        h1#current-counter-wrapper {
            font-size: 35px;
        }
        div#counter-details p {
            font-size: 18px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    
    <section id="main-hero-wrapper">
        <div id="main-hero-counter">
            <div id="counter-details">


                <h1 id="current-counter-wrapper"><span id="current-counter">০</span></h1>
                <p id="today-total-counter-wrapper">আজকে <span id="today-total-counter">০</span> বার</p>
                <p id="onezeroeight-today-counter-wrapper">আজকে নাম জপ  = <span id="onezeroeight-today-counter">০</span> বার</p>
                <p id="life-time-counter-wrapper">সর্বমোট <span id="life-time-counter">০</span> বার</p>
                <p id="life-time-onezeroeight-counter-wrapper">সর্বমোট নাম জপ = <span id="life-time-onezeroeight-counter">০</span> বার </p>
            </div>
        </div>
    </section>

    <script>
        // Krishna images array
        let krishnaImagesUrl = [
            'https://i.pinimg.com/736x/cb/63/af/cb63affb131329be8730c443748bad6f.jpg',
            'https://i.pinimg.com/736x/39/4d/f3/394df388a2644d079587b6c3738ccb34.jpg',
            'https://i.pinimg.com/736x/88/ca/44/88ca44bd64e6c8c8e767a85643c76b88.jpg',
            'https://i.pinimg.com/736x/35/a4/4f/35a44f0ab963dab0d606d5ef2989110f.jpg'
        ];

        // Convert number to Bengali digits
        function convertToBengali(num) {
            const bengaliDigits = ['০', '১', '২', '৩', '৪', '৫', '৬', '৭', '৮', '৯'];
            return num.toString().split('').map(digit => bengaliDigits[digit]).join('');
        }

        // Initialize variables with stored values or defaults
        let currentCounter = parseInt(localStorage.getItem('currentCounter')) || 0;
        let todayTotalCounter = parseInt(localStorage.getItem('todayTotalCounter')) || 0;
        let oneZeroEightTodayCounter = parseInt(localStorage.getItem('oneZeroEightTodayCounter')) || 0;
        let lifeTimeCounter = parseInt(localStorage.getItem('lifeTimeCounter')) || 0;
        let lifeTimeOneZeroEightCounter = parseInt(localStorage.getItem('lifeTimeOneZeroEightCounter')) || 0;

        // Set initial values to display (converted to Bengali)
        document.getElementById('current-counter').textContent = convertToBengali(currentCounter);
        document.getElementById('today-total-counter').textContent = convertToBengali(todayTotalCounter);
        document.getElementById('onezeroeight-today-counter').textContent = convertToBengali(oneZeroEightTodayCounter);
        document.getElementById('life-time-counter').textContent = convertToBengali(lifeTimeCounter);
        document.getElementById('life-time-onezeroeight-counter').textContent = convertToBengali(lifeTimeOneZeroEightCounter);

        // Function to update localStorage
        function updateLocalStorage() {
            localStorage.setItem('currentCounter', currentCounter);
            localStorage.setItem('todayTotalCounter', todayTotalCounter);
            localStorage.setItem('oneZeroEightTodayCounter', oneZeroEightTodayCounter);
            localStorage.setItem('lifeTimeCounter', lifeTimeCounter);
            localStorage.setItem('lifeTimeOneZeroEightCounter', lifeTimeOneZeroEightCounter);
        }

        // Function to update the background image
        function updateBackgroundImage() {
            const randomIndex = Math.floor(Math.random() * krishnaImagesUrl.length);
            document.getElementById('main-hero-counter').style.backgroundImage = `url(${krishnaImagesUrl[randomIndex]})`;
        }

        // Main counter logic on click
        document.getElementById('main-hero-counter').addEventListener('click', function() {
            currentCounter++;
            lifeTimeCounter++;
            todayTotalCounter++;

            if (currentCounter > 108) {
                currentCounter = 1;
                oneZeroEightTodayCounter++;
                lifeTimeOneZeroEightCounter++;
            }

            // Update displayed values (converted to Bengali)
            document.getElementById('current-counter').textContent = convertToBengali(currentCounter);
            document.getElementById('today-total-counter').textContent = convertToBengali(todayTotalCounter);
            document.getElementById('onezeroeight-today-counter').textContent = convertToBengali(oneZeroEightTodayCounter);
            document.getElementById('life-time-counter').textContent = convertToBengali(lifeTimeCounter);
            document.getElementById('life-time-onezeroeight-counter').textContent = convertToBengali(lifeTimeOneZeroEightCounter);

            // Update localStorage
            updateLocalStorage();

            // Update background image
            updateBackgroundImage();
        });

        // Reset counters at midnight
        function resetDailyCounters() {
            todayTotalCounter = 0;
            oneZeroEightTodayCounter = 0;
            localStorage.setItem('todayTotalCounter', todayTotalCounter);
            localStorage.setItem('oneZeroEightTodayCounter', oneZeroEightTodayCounter);

            // Update displayed values (converted to Bengali)
            document.getElementById('today-total-counter').textContent = convertToBengali(todayTotalCounter);
            document.getElementById('onezeroeight-today-counter').textContent = convertToBengali(oneZeroEightTodayCounter);
        }

        // Check time for resetting counters
        setInterval(() => {
            const now = new Date();
            if (now.getHours() === 0 && now.getMinutes() === 0) {
                resetDailyCounters();
            }
        }, 60000); // Check every minute

    </script>

</body>
</html>
